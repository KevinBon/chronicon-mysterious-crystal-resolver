(this["webpackJsonpmysterious-crystal"]=this["webpackJsonpmysterious-crystal"]||[]).push([[0],{18:function(e,t,n){e.exports=n(28)},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(13),o=n.n(l),i=(n(23),n(24),n(25),n(2)),s=n(5),u=n(17),O=n(3),d=n(6),E=n(7),f=n(1),m="RED",T="BLUE",v="YELLOW",b={LEFT_ONE:"LEFT_ONE",LEFT_TWO:"LEFT_TWO",LEFT_THREE:"LEFT_THREE",RIGHT_ONE:"RIGHT_ONE",RIGHT_TWO:"RIGHT_TWO",RIGHT_THREE:"RIGHT_THREE",TOP_ONE:"TOP_ONE",TOP_TWO:"TOP_TWO",TOP_THREE:"TOP_THREE",BOTTOM_ONE:"BOTTOM_ONE",BOTTOM_TWO:"BOTTOM_TWO",BOTTOM_THREE:"BOTTOM_THREE"};function g(){var e=Object(d.a)(["\n  min-height: 100px;\n"]);return g=function(){return e},e}var j=[m,T,v],x=(a={},Object(f.a)(a,T,"bg-blue-500"),Object(f.a)(a,m,"bg-red-500"),Object(f.a)(a,v,"bg-yellow-500"),a),y=E.a.div(g()),_=j.reduce((function(e,t,n){return Object(s.a)(Object(s.a)({},e),{},Object(f.a)({},t,n))}),{});var h,p=function(e){var t=e.color,n=void 0===t?m:t,a=e.onChange,r=e.className,l=x[n];return c.a.createElement(y,{onClick:function(){var e=_[n],t=e===j.length-1?0:e+1,r=j[t];a(r)},className:"".concat(l," rounded text-white ").concat(r)},n)},N=function(e){return function(t){var n=Object(i.a)(t)[e];return t[e]=[n[1],n[2],n[0]],t}},R=function(e){return function(t){var n=Object(i.a)(t)[e];return t[e]=[n[2],n[0],n[1]],t}},H=function(e){return function(t){var n=W(t),a=[t[0][e],t[1][e],t[2][e]];return n[0][e]=a[1],n[1][e]=a[2],n[2][e]=a[0],n}},W=function(e){return[Object(i.a)(e[0]),Object(i.a)(e[1]),Object(i.a)(e[2])]},w=function(e){return function(t){var n=W(t),a=[t[0][e],t[1][e],t[2][e]];return n[0][e]=a[2],n[1][e]=a[0],n[2][e]=a[1],n}},k=(h={},Object(f.a)(h,b.LEFT_ONE,N(0)),Object(f.a)(h,b.LEFT_TWO,N(1)),Object(f.a)(h,b.LEFT_THREE,N(2)),Object(f.a)(h,b.RIGHT_ONE,R(0)),Object(f.a)(h,b.RIGHT_TWO,R(1)),Object(f.a)(h,b.RIGHT_THREE,R(2)),Object(f.a)(h,b.TOP_ONE,H(0)),Object(f.a)(h,b.TOP_TWO,H(1)),Object(f.a)(h,b.TOP_THREE,H(2)),Object(f.a)(h,b.BOTTOM_ONE,w(0)),Object(f.a)(h,b.BOTTOM_TWO,w(1)),Object(f.a)(h,b.BOTTOM_THREE,w(2)),h);function I(e,t){return k[t](e)}function M(e){return e[0][0]===e[0][1]&&e[0][1]===e[0][2]?e[1][0]===e[1][1]&&e[1][1]===e[1][2]&&e[2][0]===e[2][1]&&e[2][1]===e[2][2]:e[0][0]===e[1][0]&&e[1][0]===e[2][0]&&e[0][1]===e[1][1]&&e[1][1]===e[2][1]&&e[0][2]===e[1][2]&&e[1][2]===e[2][2]}var B=function(){var e=Object.keys(b),t=e.length-1;return function(){return e[Math.floor(Math.random()*Math.floor(t))]}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t,n){return t in e||(e[t]=[]),e[t].push(n+1),e}),{})};function C(){var e=Object(d.a)([""]);return C=function(){return e},e}function F(){var e=Object(d.a)(['\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr;\n    gap: 6px 6px;\n    grid-template-areas: \n        ". . . . ."\n        ". . . . ."\n        ". . . . ."\n        ". . . . ."\n        ". . . . .";\n']);return F=function(){return e},e}var G=E.a.div(F()),P=E.a.div(C()),S=function(e){var t=e.indexes,n=t&&t.length?"font-mono subpixel-antialiased font-semibold shadow-lg flex justify-center bg-gray-300 flex-row items-center text-lg text-gray-800":"";return c.a.createElement("div",{className:n},(t||[]).map((function(e){return c.a.createElement("div",{key:e,className:"flex-grow"},e)})))},A=[[T,m,T],[m,T,m],[v,v,v]];var D=function(e){var t,n,a,l,o,d,E,g,j,x,y,_,h=e.className,N=Object(r.useState)([].concat(A)),R=Object(O.a)(N,2),H=R[0],W=R[1],w=Object(r.useState)(!1),k=Object(O.a)(w,2),C=k[0],F=k[1],D=Object(r.useState)({state:"IDLE",steps:[],tries:0}),J=Object(O.a)(D,2),U=J[0],X=J[1],Y=Object(r.useState)(!1),$=Object(O.a)(Y,2),q=$[0],z=$[1],K=Object(r.useState)(!1),Q=Object(O.a)(K,2),V=Q[0],Z=Q[1];Object(r.useEffect)((function(){z(function(e){for(var t,n=(t={},Object(f.a)(t,T,0),Object(f.a)(t,m,0),Object(f.a)(t,v,0),t),a=0;a<e.length;a++)for(var r=e[a],c=0;c<r.length;c++){var l=r[c];if(n[l]+=1,n[l]>3)return!1}return!0}(H))}),[H]),Object(r.useEffect)((function(){Z(M(H))}),[H,q]),Object(r.useEffect)((function(){if(C){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxStep,a=void 0===n?5:n,r=t.maxTries,c=void 0===r?2e4:r,l=t.stepsAsIndexed,o=void 0===l||l,i=Array.from(e),s=0,u=[],O={state:null,tries:0,steps:[],grid:[],debug:[]};;){if(M(i)){O.state="WIN";break}if(O.tries>=c){O.state="ABORT_MAX_TRIES";break}O.tries+=1,u.length>=a&&(i=Array.from(e),u=[]),s=B(),u.push(s),i=I(i,s)}return"WIN"===O.state&&(O.steps=o?L(u):u,O.grid=i),O}(H),t=e.grid,n=Object(u.a)(e,["grid"]);"WIN"===n.state&&W(t),X(Object(s.a)({},n)),F(!1)}}),[C]);var ee=function(e,t){return function(n){var a=Object(i.a)(H);a[e][t]=n,W(a)}};return c.a.createElement("div",{className:"".concat(h," overflow-hidden")},c.a.createElement(G,{className:"w-full"},c.a.createElement("div",null),c.a.createElement(S,{indexes:null===U||void 0===U||null===(t=U.steps)||void 0===t?void 0:t[b.TOP_ONE]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(n=U.steps)||void 0===n?void 0:n[b.TOP_TWO]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(a=U.steps)||void 0===a?void 0:a[b.TOP_THREE]}),c.a.createElement("div",null),c.a.createElement(S,{indexes:null===U||void 0===U||null===(l=U.steps)||void 0===l?void 0:l[b.LEFT_ONE]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:0-y:0",onChange:ee(0,0),color:H[0][0]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:0-y:1",onChange:ee(0,1),color:H[0][1]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:0-y:2",onChange:ee(0,2),color:H[0][2]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(o=U.steps)||void 0===o?void 0:o[b.RIGHT_ONE]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(d=U.steps)||void 0===d?void 0:d[b.LEFT_TWO]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:1-y:0",onChange:ee(1,0),color:H[1][0]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:1-y:1",onChange:ee(1,1),color:H[1][1]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:1-y:2",onChange:ee(1,2),color:H[1][2]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(E=U.steps)||void 0===E?void 0:E[b.RIGHT_TWO]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(g=U.steps)||void 0===g?void 0:g[b.LEFT_THREE]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:2-y:0",onChange:ee(2,0),color:H[2][0]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:2-y:1",onChange:ee(2,1),color:H[2][1]}),c.a.createElement(p,{className:"flex justify-center items-center",key:"x:2-y:2",onChange:ee(2,2),color:H[2][2]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(j=U.steps)||void 0===j?void 0:j[b.RIGHT_THREE]}),c.a.createElement("div",null),c.a.createElement(S,{indexes:null===U||void 0===U||null===(x=U.steps)||void 0===x?void 0:x[b.BOTTOM_ONE]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(y=U.steps)||void 0===y?void 0:y[b.BOTTOM_TWO]}),c.a.createElement(S,{indexes:null===U||void 0===U||null===(_=U.steps)||void 0===_?void 0:_[b.BOTTOM_THREE]}),c.a.createElement("div",null)),c.a.createElement("div",{className:"lg:px-16 lg:py-16 p-2"},c.a.createElement(P,null,c.a.createElement("button",Object.assign({className:"".concat(q?"bg-blue-500 hover:bg-blue-400 text-white  border-blue-700 hover:border-blue-500":"bg-gray-800 hover:bg-gray-700 border-gray-900 hover:border-gray-800 text-white"," font-bold py-2 px-4 border-b-4 rounded"),onClick:function(){F(!C)}},(!q||V)&&{disabled:"disabled"}),q?C?"Running...":"Run":"Not valid"))))};var J=function(){return c.a.createElement("div",{className:"App min-h-screen flex flex-wrap bg-gray-600 lg:p-12 p-2"},c.a.createElement("div",{className:"lg:w-1/2 mr-auto ml-auto"},c.a.createElement("h1",{className:"font-bold text-white lg:text-2xl lg:pb-12 p-2"},"Chronicon Mysterious Crystals resolver"),c.a.createElement(D,{className:""})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.b74444a2.chunk.js.map